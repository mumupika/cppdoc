---
import type { Language } from "@src/types";
import DocLink from "./DocLink.astro";

export interface Props {
  lang: Language;
  name: string;
  displayName?: string;
  nolink?: boolean;
}

const { lang, name, displayName, nolink } = Astro.props;
const dest = `${lang}.headers.${name}`;

const extension = lang === "C" ? ".h" : "";
const text = displayName ?? `<${name}${extension}>`;

const As = nolink ? Fragment : DocLink;
const asProps = nolink ? {} : { dest };
---

<As {...asProps}>
  <code>{text}</code>
</As>
